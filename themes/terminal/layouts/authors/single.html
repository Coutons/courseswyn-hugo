{{ define "main" }}
  {{ partial "header.html" . }}

  <div class="flex flex-col gap-5 pt-8">
    <div class="flex flex-row gap-4">
      <p class="text-3xl max-sm:text-2xl">👩‍💻</p>
      <h1 class="text-3xl max-sm:text-2xl font-bold">{{ .Title }}</h1>
    </div>
    <hr />

    <div class="flex flex-col w-full gap-6">
      <div class="prose prose-invert max-w-full">
        {{ .Content }}
      </div>

      <!-- Author's Posts -->
      <div class="flex flex-col gap-4">
        <h2 class="text-2xl font-bold">📝 Posts by {{ .Title }}</h2>
        <hr />

        {{ $authorPosts := where .Site.RegularPages "Params.author" .Title }}
        {{ if $authorPosts }}
          <div class="grid gap-6">
            {{ range $authorPosts }}
              <div class="border border-gray-600 p-4 hover:border-sky-400 transition-colors">
                <h3 class="text-xl font-bold mb-2">
                  <a href="{{ .RelPermalink }}" class="hover:text-sky-400">{{ .Title }}</a>
                </h3>
                <p class="text-gray-300 mb-2">{{ .Description }}</p>
                <div class="flex flex-wrap gap-2 text-sm text-gray-400">
                  <span>📅 {{ .Date.Format "Jan 2, 2006" }}</span>
                  <span>📖 {{ .ReadingTime }} min read</span>
                </div>
              </div>
            {{ end }}
          </div>
        {{ else }}
          <p class="text-gray-400">No posts found for this author yet.</p>
        {{ end }}
      </div>
    </div>
  </div>

  {{ partial "footer_regular.html" .}}
{{ end }}
